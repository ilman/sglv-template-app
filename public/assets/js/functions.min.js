function numberDelimiter(e){e+="",x=e.split("."),x1=x[0],x2=x.length>1?","+x[1]:"";for(var t=/(\d+)(\d{3})/;t.test(x1);)x1=x1.replace(t,"$1.$2");return x1+x2}function formatPrice(e,t,a){return t+" "+numberDelimiter(e,a)}function roundNumber(e,t){var a=Math.round(e*Math.pow(10,t))/Math.pow(10,t);return a}function repopulateProductCat(e){ajaxGetValue("product_categories","parent_id","id",e,function(t){var a=$("#subcat-id");t||(t=e),$("#cat-id").val(t),ajaxGetOption(a,"product_categories","cat_name","parent_id",t,e,null,"nesia_market")},"nesia_market")}function getUrlVar(e){var t=new RegExp(e+"=([^&]*)","i").exec(window.location.search);return t&&unescape(t[1])||""}function ajaxGetOption(e,t,a,n,u,i,r,o){$data={table:t,label:a,key:n,val:u},"undefined"!=typeof o&&($data.con=o),$.ajax({type:"POST",url:site_url+"ajax/options",data:$data,success:function(t){var a="",n="";_.each(t,function(e){n=e.value===i?' selected="selected"':"",a+='<option value="'+e.value+'"'+n+">"+e.label+"</option>"}),e.html(a),typeof r==typeof Function&&r()}})}function ajaxGetValue(e,t,a,n,u,i){$data={table:e,field:t,key:a,val:n},"undefined"!=typeof i&&($data.con=i),$.ajax({type:"POST",url:site_url+"ajax/value",data:$data,success:function(e){return_value=e,typeof u==typeof Function&&u(e)}})}function getFileName(e){return e=e.substring(0,-1==e.indexOf("#")?e.length:e.indexOf("#")),e=e.substring(0,-1==e.indexOf("?")?e.length:e.indexOf("?")),e=e.substring(e.lastIndexOf("/")+1,e.length)}function getFileNameSuffix(e){var t=e.lastIndexOf("."),a=e.lastIndexOf("_",t),n=e.substring(a+1,t);return n}var delay=function(){var e=0;return function(t,a){clearTimeout(e),e=setTimeout(t,a)}}();