jQuery(document).ready(function(t){var e=t(window),i=768;e.load(function(){if(!(e.width()<i)){var n=t(".even-height"),a={};n.each(function(){var e=t(this),i=e.attr("rel"),n=e.height();"undefined"==typeof a[i]&&(a[i]=0),n>a[i]&&(a[i]=n)}),n.each(function(){var e=t(this),i=e.attr("rel");e.height(a[i])})}}),t(".bs-tooltip").tooltip(),t(".bs-popover").popover(),t(".cs-modal").on("click",".close",function(){var e=t(this);e.closest(".modal").hide()}),t(window).load(function(){t(".block-thumb img").add(".img-safe-load img").each(function(){if(0===this.naturalWidth){var t=getFileNameSuffix(this.src);t||(t="thumb"),this.src=site_url+"assets/images/default/default_product_"+t+".gif"}})}),function(){t(".nav-control-toggle").click(function(){var e=t(this),i=e.closest(".nav-control-container");i.toggleClass("nav-on")})}(),t(".table-list").on("click",".action-detail",function(e){e.preventDefault();var i=t(this),n=i.closest("tr"),a=n.next(),s=n.find("td").length,o=i.attr("rel"),l=n.attr("rel");return a.hasClass(o)&&a.hasClass(l)?(a.toggle(),void 0):a.next().hasClass(o)&&a.next().hasClass(l)?(a.next().toggle(),void 0):(t.ajax({url:i.attr("href"),success:function(e){var i=t(e).filter("#ajax-content").html();n.after('<tr class="ajax-row '+o+" "+l+'"><td colspan="'+s+'">'+i+"</td></tr>")}}),void 0)}).on("click",".action-confirm-page",function(e){e.preventDefault();t(this)}),t("#js-select-all").click(function(){var e=t(this),i=e.closest(".table-list");e.prop("checked")?(i.find("input[type=checkbox]").attr("checked","checked").prop("checked",!0),e.attr("checked","checked")):(i.find("input[type=checkbox]").removeAttr("checked").prop("checked",!1),e.removeAttr("checked"))}),t("#js-bulk-form").submit(function(e){e.preventDefault();var i=t(this),n=i.find("input[type=hidden]"),a=i.data("ref"),s=t(a).find("input[type=checkbox]").serialize();n.length?n.val(s):i.append('<input type="hidden" name="ids" value="'+s+'" />'),i.off("submit").submit()}),function(){"undefined"!=typeof t.fn.sortable&&t(".table-list").find("tbody").sortable({opacity:.4,cursor:"move",handle:".js-handle-move",update:function(){var e=t(this),i=e.closest(".table-list"),n=e.sortable("serialize"),a=i.data("sort-url")+"/";t.post(site_url+a+offset,n)}})}(),t(".js-input-sort").keyup(function(){var e=t(this),i=e.closest(".table-list"),n=e.attr("rel"),a=e.val(),s=i.data("update-url");delay(function(){t.ajax({type:"POST",url:site_url+s,data:{order:a,product_id:n}})},300)}),t(".menu-tree").on("click","span",function(e){e.preventDefault();var i=t(this),n=i.closest("li");n.find("ul").slideToggle(),n.toggleClass("active")});var n=t("#bs-modal");n.modal({show:!1}),t(".js-modal-iframe").click(function(e){e.preventDefault();var i=t(this),a=i.attr("title"),s=i.attr("href");a||(a=i.data("title"));var o='<iframe class="iframe" src="'+s+'"></iframe>';a&&n.find(".modal-title").html(a),n.find(".modal-body").html(o),n.modal("show")}),t(".js-window-open").click(function(e){e.preventDefault();var i=t(this),n=i.attr("title"),a=i.attr("href");n||(n=i.data("title")),n||(n="Modal Box"),window.open(a,n,config="height=300, width=400, toolbar=no, menubar=no, location=no, directories=no, status=no")}),t(".js-add-select-value").change(function(){var e=t(this),i=e.attr("rel"),n=e.val(),a=e.siblings(i);"+"==n?a.show():a.hide()}),t(".js-add-select-value").change(),function(){return"undefined"==typeof t.fn.datetimepicker?!1:(t(".input-date").datetimepicker({pickTime:!1,format:"YYYY/MM/DD"}),void 0)}(),function(){return"undefined"==typeof t.fn.select2?!1:(t(".input-select2").select2({minimumInputLength:3}),t(".input-select2-tags").each(function(){var e=t(this),i=e.data("min_length"),n=e.data("max_item"),a={tags:[],tokenSeparators:[","]};"undefined"==typeof i&&(i=3),a.minimumInputLength=parseInt(i),"undefined"!=typeof n&&(a.maximumSelectionSize=parseInt(n)),e.select2(a)}),t(".input-select2-post-add").each(function(){var e=t(this),i=e.data("min_length"),n=e.data("max_item"),a=e.data("ajax_url"),s=e.data("ajax_data"),o=e.data("term_prefix"),l=e.data("term_suffix");"undefined"!=typeof s&&(s=window[s]),"undefined"==typeof i&&(i=3),"undefined"==typeof o&&(o=""),"undefined"==typeof l&&(l="");var r={minimumInputLength:parseInt(i),createSearchChoice:function(t){return{id:t,text:t}},ajax:{type:"POST",dataType:"json",url:a,data:function(t){return s.val=o+t+l,s},results:function(t){return{results:t}}},formatResult:function(t){return t.label},formatSelection:function(t){return"undefined"!=typeof t.label?t.label:t.text},initSelection:function(e,i){var n=t(e).val();i({id:n,text:n})},id:function(t){return t.label}};"undefined"!=typeof n&&(r.maximumSelectionSize=parseInt(n)),e.select2(r)}),void 0)}(),function(){return"undefined"==typeof tinymce?!1:(tinymce.init({selector:".input-tinymce",menubar:!1,plugins:"link, image, media, table, codemirror, visualblocks, nesia_filemanager, paste",toolbar:"undo redo | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link media table | nesia_filemanager code visualblocks",toolbar1:"undo redo | bold italic | alignleft aligncenter alignright | bullist numlist outdent indent | link media table | nesia_filemanager code visualblocks",content_css:[site_url+"packages/scienceguard/nesia/assets/css/style.css",site_url+"packages/scienceguard/nesia/assets/css/editor.css"],paste_auto_cleanup_on_paste:!0,paste_remove_styles:!0,paste_remove_styles_if_webkit:!0,paste_strip_class_attributes:!0,codemirror:{indentOnInit:!0,path:site_url+"packages/scienceguard/nesia/assets/vendors/codemirror",config:{lineNumbers:!0,lineWrapping:!0,mode:"text/html",indentUnit:3,indentWithTabs:!0,tabSize:3}}}),void 0)}()});